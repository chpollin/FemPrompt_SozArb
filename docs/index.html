<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SozArb Research Vault - AI Literacy in Social Work</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Interactive research vault with 264 papers on AI literacy in social work, featuring LLM-based PRISMA assessment and enhanced summaries. Systematic literature review covering vulnerable populations, algorithmic bias, and practical implementation.">
    <meta name="keywords" content="AI literacy, social work, systematic review, PRISMA, vulnerable populations, algorithmic bias, feminist AI, digital equity">
    <meta name="author" content="Christopher Pollin">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://chpollin.github.io/FemPrompt_SozArb/">
    <meta property="og:title" content="SozArb Research Vault - AI Literacy in Social Work">
    <meta property="og:description" content="264 papers, 67 AI summaries, interactive network visualization. Systematic literature review on AI literacy for vulnerable populations.">
    <meta property="og:image" content="https://chpollin.github.io/FemPrompt_SozArb/preview.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://chpollin.github.io/FemPrompt_SozArb/">
    <meta name="twitter:title" content="SozArb Research Vault - AI Literacy in Social Work">
    <meta name="twitter:description" content="Interactive systematic literature review: 264 papers, 67 AI summaries, network visualization">
    <meta name="twitter:image" content="https://chpollin.github.io/FemPrompt_SozArb/preview.png">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='12' fill='%231e40af'/><text x='50' y='68' font-size='60' font-family='sans-serif' font-weight='bold' fill='white' text-anchor='middle'>S</text></svg>">

    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/vis-network@9.1.6/dist/vis-network.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.min.js"></script>

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <link rel="stylesheet" href="css/research.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>SozArb Research Vault</h1>
            <p class="subtitle">AI Literacy in Social Work - Systematic Literature Review</p>
        </div>
    </header>

    <!-- Stats Bar -->
    <div class="stats-bar">
        <div class="stats-container" id="stats-container">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Loading statistics...</p>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav-tabs">
        <div class="nav-tabs-container">
            <button class="nav-tab active" data-tab="papers">Papers Browser</button>
            <button class="nav-tab" data-tab="benchmark">Benchmark</button>
            <button class="nav-tab" data-tab="dashboard">Dashboard</button>
            <button class="nav-tab" data-tab="graph">Network Graph</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Papers Tab -->
        <div class="tab-content active" id="papers-tab">
            <div class="search-filters">
                <input type="text" class="search-box" id="search-box" placeholder="Search papers by title, author, or abstract...">

                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">LLM Decision</label>
                        <select class="filter-select" id="filter-decision">
                            <option value="all">All Papers</option>
                            <option value="Include">LLM Include</option>
                            <option value="Exclude">LLM Exclude</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Human Assessment</label>
                        <select class="filter-select" id="filter-human">
                            <option value="all">All Papers</option>
                            <option value="has_human">Has Human Assessment</option>
                            <option value="agreement">Agreement (LLM = Human)</option>
                            <option value="disagreement">Disagreement (LLM ≠ Human)</option>
                            <option value="no_human">No Human Assessment</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Sort By</label>
                        <select class="filter-select" id="sort-by">
                            <option value="year">Year (Newest First)</option>
                            <option value="author">Author (A-Z)</option>
                            <option value="title">Title (A-Z)</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Publication Year</label>
                        <select class="filter-select" id="filter-year">
                            <option value="all">All Years</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021 and older</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <button class="export-button" onclick="exportFilteredPapers()" title="Export filtered papers as CSV">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                    </div>
                </div>

                <!-- Category chips -->
                <div class="category-filter-row">
                    <span class="filter-label">Categories (LLM):</span>
                    <div class="category-chips" id="category-chips">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>

            <!-- Results Counter -->
            <div class="results-counter" id="results-counter">
                <i class="fas fa-filter"></i> Showing <strong id="results-count">0</strong> of <strong id="total-count">0</strong> papers
            </div>

            <div class="papers-grid" id="papers-grid">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading papers...</p>
                </div>
            </div>
        </div>

        <!-- Benchmark Tab -->
        <div class="tab-content" id="benchmark-tab">
            <div class="benchmark-section">
                <h2 class="benchmark-title">Zwei Perspektiven auf einen Korpus</h2>
                <p class="benchmark-subtitle">LLM und Expert:innen vermessen verschiedene epistemische Terrains. Die Divergenz ist informationshaltig -- sie zeigt, wo maschinelle Musterkennung und disziplinares Kontextwissen strukturell auseinanderfallen.</p>
            </div>

            <!-- Metric tiles -->
            <div class="benchmark-metrics-grid" id="benchmark-metrics">
                <!-- Populated by JS -->
            </div>

            <!-- Charts row: Radar + Overlap -->
            <div class="benchmark-charts-row">
                <div class="benchmark-chart-card">
                    <h3>Kategorie-Divergenz</h3>
                    <p class="chart-subtitle">Jede Linie verbindet Human-Rate (links) mit LLM-Rate (rechts) fuer eine Kategorie. Steile Linien = grosse epistemische Divergenz. Blau = LLM sieht mehr, Orange = Human sieht mehr.</p>
                    <div id="radar-chart-container" style="height:320px;position:relative;"><canvas id="radar-chart"></canvas></div>
                </div>
                <div class="benchmark-chart-card">
                    <h3>Erkenntnisfluss</h3>
                    <p class="chart-subtitle">Was sieht jede Perspektive allein, was sehen beide gemeinsam? Klick auf eine Zelle filtert den Papers-Tab.</p>
                    <div id="confusion-matrix-container"></div>
                </div>
            </div>

            <!-- Kappa as technical detail (collapsed) -->
            <div class="benchmark-chart-card" style="margin-top: 1.5rem;">
                <h3>Divergenz-Profil (Cohen's Kappa)</h3>
                <p class="chart-subtitle">Kappa nahe 0 bedeutet: beide Perspektiven sind epistemisch unabhaengig -- nicht fehlerhaft. Negative Werte zeigen Kategorien, wo LLM und Mensch systematisch unterschiedliche Konzeptdefinitionen verwenden.</p>
                <div id="kappa-chart-container"></div>
            </div>

            <!-- Disagreements table -->
            <div class="benchmark-chart-card" style="margin-top: 1.5rem;">
                <div class="disagreements-header">
                    <h3>Divergenz-Faelle</h3>
                    <div class="filter-group" style="width:auto;">
                        <select class="filter-select" id="filter-severity" style="font-size:0.8rem;">
                            <option value="all">All Severities</option>
                            <option value="high">High Only</option>
                            <option value="medium">Medium Only</option>
                            <option value="low">Low Only</option>
                        </select>
                    </div>
                </div>
                <div id="disagreements-table-container"></div>
            </div>
        </div>

        <!-- Dashboard Tab -->
        <div class="tab-content" id="dashboard-tab">
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Korpus-Abdeckung</h3>
                    <div class="chart-container">
                        <canvas id="coverage-chart"></canvas>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Kategorie-Divergenz</h3>
                    <div class="chart-container">
                        <canvas id="divergence-chart"></canvas>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Kategorie-Verteilung (LLM)</h3>
                    <div class="chart-container">
                        <canvas id="category-chart"></canvas>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Publikationen nach Jahr</h3>
                    <div class="chart-container">
                        <canvas id="year-chart"></canvas>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>LLM Konfidenz-Verteilung</h3>
                    <div class="chart-container">
                        <canvas id="confidence-chart"></canvas>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Kategorie-Verteilung (Human)</h3>
                    <div class="chart-container">
                        <canvas id="human-category-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Graph Tab -->
        <div class="tab-content" id="graph-tab">
            <div class="graph-controls">
                <div class="graph-controls-grid">
                    <div class="filter-group">
                        <label class="filter-label">Filter by Decision</label>
                        <select class="filter-select" id="graph-filter-decision">
                            <option value="all">All Papers</option>
                            <option value="Include">Include Only</option>
                            <option value="Exclude">Exclude Only</option>
                            <option value="Unclear">Unclear Only</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Min Relevance</label>
                        <select class="filter-select" id="graph-filter-relevance">
                            <option value="0">All Papers</option>
                            <option value="5">≥ 5 (Medium+)</option>
                            <option value="10">≥ 10 (High)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="graph-container"></div>
        </div>
    </main>

    <!-- Paper Detail Modal -->
    <div class="modal" id="paper-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <h2 id="modal-title">Paper Title</h2>
                    <p id="modal-author" style="color: var(--gray-600); margin-top: 0.5rem;"></p>
                </div>
                <button class="modal-close" onclick="closePaperModal()">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Content loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Main App Script -->
    <script src="js/research-app.js"></script>
    <script src="js/features.js"></script>
    <script src="js/advanced-features.js"></script>
</body>
</html>
